!function(e){var t=e.fn.jquery.split("."),i=parseFloat(t[0]),a=parseFloat(t[1]);e.expr[":"].filterTableFind=2>i&&8>a?function(t,i,a){return e(t).text().toUpperCase().indexOf(a[3].toUpperCase())>=0}:jQuery.expr.createPseudo(function(t){return function(i){return e(i).text().toUpperCase().indexOf(t.toUpperCase())>=0}}),e.fn.filterTable=function(t){var i={autofocus:!1,callback:null,containerClass:"filter-table",containerTag:"p",hideTFootOnFilter:!1,highlightClass:"alt",inputSelector:null,inputName:"",inputType:"search",label:"Filter:",minChars:1,minRows:8,placeholder:"search this table",quickList:[],quickListClass:"quick",quickListGroupTag:"",quickListTag:"a",visibleClass:"visible"},a=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n=e.extend({},i,t),l=function(e,t){var i=e.find("tbody");""===t||t.length<n.minChars?(""===t&&(i.find("tr").show().addClass(n.visibleClass),i.find("td").removeClass(n.highlightClass)),n.hideTFootOnFilter&&e.find("tfoot").show()):(i.find("tr").hide().removeClass(n.visibleClass),n.hideTFootOnFilter&&e.find("tfoot").hide(),i.find("td").removeClass(n.highlightClass).filter(':filterTableFind("'+t.replace(/(['"])/g,"\\$1")+'")').addClass(n.highlightClass).closest("tr").show().addClass(n.visibleClass)),n.callback&&n.callback(t,e)};return this.each(function(){var t=e(this),i=t.find("tbody"),s=null,r=null,o=null,c=!0;"TABLE"===t[0].nodeName&&i.length>0&&(0===n.minRows||n.minRows>0&&i.find("tr").length>n.minRows)&&!t.prev().hasClass(n.containerClass)&&(n.inputSelector&&1===e(n.inputSelector).length?(o=e(n.inputSelector),s=o.parent(),c=!1):(s=e("<"+n.containerTag+" />"),""!==n.containerClass&&s.addClass(n.containerClass),s.prepend(n.label+" "),o=e('<input type="'+n.inputType+'" placeholder="'+n.placeholder+'" name="'+n.inputName+'" />')),n.autofocus&&o.attr("autofocus",!0),e.fn.bindWithDelay?o.bindWithDelay("keyup",function(){l(t,e(this).val())},200):o.bind("keyup",function(){l(t,e(this).val())}),o.bind("search",function(){l(t,e(this).val())}),c&&s.append(o),n.quickList.length>0&&(r=n.quickListGroupTag?e("<"+n.quickListGroupTag+" />"):s,e.each(n.quickList,function(t,i){var l=e("<"+n.quickListTag+' class="'+n.quickListClass+'" />');l.text(a(i)),"A"===l[0].nodeName&&l.attr("href","#"),l.bind("click",function(e){e.preventDefault(),o.val(i).focus().trigger("click")}),r.append(l)}),r!==s&&s.append(r)),c&&t.before(s))})}}(jQuery);
